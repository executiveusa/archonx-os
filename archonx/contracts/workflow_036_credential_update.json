{
  "workflow_id": "WF-036",
  "name": "Credential Update",
  "category": "dashboard",
  "version": "1.0.0",
  "description": "Securely updates a stored credential with human approval and full audit trail.",
  "trigger": {
    "event": "credential_update_requested",
    "condition": "credential_rotation_due OR operator_initiated",
    "actor": "approver"
  },
  "payload_schema": {
    "type": "object",
    "required": ["credential_id", "submitted_by", "approval_token"],
    "properties": {
      "credential_id": { "type": "string" },
      "submitted_by": { "type": "string" },
      "approval_token": { "type": "string" },
      "expiry_days": { "type": "integer", "minimum": 1 }
    }
  },
  "policy_gates": {
    "required_role": "approver",
    "compliance_level": "PAULIWHEEL_CRITICAL",
    "approval_required": true
  },
  "telemetry": {
    "event_name": "credential_updated",
    "fields": ["credential_id", "submitted_by", "expiry_days", "timestamp"]
  },
  "evidence_path": "ops/reports/credential_updates/",
  "success_criteria": [
    "approval token validated",
    "credential value updated in secure store",
    "previous credential version archived",
    "audit record written"
  ],
  "timeout_seconds": 3600
}
